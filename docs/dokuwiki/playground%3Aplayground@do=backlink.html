<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru"
 lang="ru" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    playground:playground    [phpMorphy home]
  </title>

  <meta name="generator" content="DokuWiki snapshot?" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2009-09-24T21:23:38+0000" />
<meta name="keywords" content="playground,playground" />
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="phpMorphy home" />
<link rel="start" href="../index.html" />
<link rel="contents" href="playground%253Aplayground@do=index.html" title="Все страницы" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php@mode=list&amp;ns=playground" />
<link rel="alternate" type="text/html" title="Plain HTML" href="_export/xhtml/playground%253Aplayground.html" />
<link rel="stylesheet" media="all" type="text/css" href="lib/exe/css.php@s=all&amp;t=phpmorphy.css" />
<link rel="stylesheet" media="screen" type="text/css" href="lib/exe/css.php@t=phpmorphy.css" />
<link rel="stylesheet" media="print" type="text/css" href="lib/exe/css.php@s=print&amp;t=phpmorphy.css" />
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php@edit=0&amp;write=0" ></script>
<script type="text/javascript" charset="utf-8" src="lib/plugins/tableedit/tableedit.js" ></script>

  <link rel="shortcut icon" href="lib/tpl/phpmorphy/images/favicon.ico" />

  </head>

<body>
<div class="dokuwiki">
  <div class="error">Command disabled: backlink</div>
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a href="playground%253Aplayground@do=backlink.html"  title="Ссылки сюда">playground:playground</a>]]
      </div>

      <div class="logo">
        <a href="../index.html"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">phpMorphy home</a>      </div>

      <div class="clearer"></div>
    </div>

    
    <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
                      </div>

      <div class="bar-right" id="bar__topright">
                <form action="../index.html" accept-charset="utf-8" class="search" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Поиск" class="button" title="Поиск" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>&nbsp;
      </div>

      <div class="clearer"></div>
    </div>

        <div class="breadcrumbs">
      <span class="bchead">Вы посетили:</span> <span class="bcsep">&raquo;</span> <a href="start.html"  class="breadcrumbs" title="start">start</a> <span class="bcsep">&raquo;</span> <a href="manual.html"  class="breadcrumbs" title="manual">manual</a> <span class="bcsep">&raquo;</span> <a href="manual-graminfo.html"  class="breadcrumbs" title="manual-graminfo">manual-graminfo</a> <span class="bcsep">&raquo;</span> <a href="download.html"  class="breadcrumbs" title="download">download</a> <span class="bcsep">&raquo;</span> <a href="demo.html"  class="breadcrumbs" title="demo">demo</a> <span class="bcsep">&raquo;</span> <a href="playground%253Aplayground.html"  class="breadcrumbs" title="playground:playground">playground</a> <span class="bcsep">&raquo;</span> <a href="wiki%253Adokuwiki.html"  class="breadcrumbs" title="wiki:dokuwiki">dokuwiki</a> <span class="bcsep">&raquo;</span> <span class="curid"><a href="wiki%253Asyntax.html"  class="breadcrumbs" title="wiki:syntax">syntax</a></span>          </div>
    
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Содержание</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="playground%253Aplayground@do=backlink.html#phpmorphy" class="toc">phpMorphy</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="playground%253Aplayground@do=backlink.html#особенности_реализации" class="toc">Особенности реализации:</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="playground%253Aplayground@do=backlink.html#словари" class="toc">Словари</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="playground%253Aplayground@do=backlink.html#установка" class="toc">Установка</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="playground%253Aplayground@do=backlink.html#инициализация" class="toc">Инициализация</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->



<h1><a name="phpmorphy" id="phpmorphy">phpMorphy</a></h1>
<div class="level1">

<p>
phpMorphy – библиотека морфологического анализа, реализованная на платформе <acronym title="Hypertext Preprocessor">PHP</acronym>.
</p>

<p>
phpMorphy позволяет решать следующие задачи:
</p>
<ul>
<li class="level1"><div class="li"> Лемматизация (получение нормальной формы слова)</div>
</li>
<li class="level1"><div class="li"> Получение всех форм слова</div>
</li>
<li class="level1"><div class="li"> Получение грамматической информации для слова (часть речи, падеж, спряжение и т.д.)</div>
</li>
<li class="level1"><div class="li"> Изменение формы слова в соответствии с заданными грамматическими характеристиками</div>
</li>
<li class="level1"><div class="li"> Изменение формы слова по заданному образцу</div>
</li>
</ul>

</div>

<h2><a name="особенности_реализации" id="особенности_реализации">Особенности реализации:</a></h2>
<div class="level2">

<p>
Библиотека написана на php, для работы не требуется никаких экзотических расширений. В зависимости от режима могут потребоваться следующие расширения: 
</p>
<ul>
<li class="level1"><div class="li"> shmop - для загрузки словаей в разделяемую память</div>
</li>
<li class="level1"><div class="li"> mbstring или iconv  - для ускорения работы с данными в Unicode кодировках.</div>
</li>
</ul>

<p>
Поддерживаются различные кодировки: 
</p>
<ul>
<li class="level1"><div class="li"> все однобайтовые (windows-1251, ascii и т.п.)</div>
</li>
<li class="level1"><div class="li"> Unicode кодировки - utf-8, utf-16le/be, utf-32, ucs2, ucs4. </div>
</li>
</ul>

<p>
Имеется возможность работать со словарями AOT и/или myspell. 
</p>

</div>

<h2><a name="словари" id="словари">Словари</a></h2>
<div class="level2">

<p>
phpMorphy использует для работы словарь. Поддерживаются словари проекта AOT (<a href="http://aot.ru" class="urlextern" title="http://aot.ru"  rel="nofollow">http://aot.ru</a>) и myspell (в myspell словарях отсутствует грамматическая информация, потому часть функций будет недоступна). Словари представлены в двух видах: в исходном и бинарном.
Исходный словарь представлен в виде xml файла и содержит
</p>
<ul>
<li class="level1"><div class="li"> Основы слов</div>
</li>
<li class="level1"><div class="li"> Правила изменения</div>
</li>
<li class="level1"><div class="li"> Грамматическая информация</div>
</li>
</ul>

<p>
Более подробно структура словаря описана в <a href="http://www.aot.ru/docs/sokirko/Dialog2004.htm" class="urlextern" title="http://www.aot.ru/docs/sokirko/Dialog2004.htm"  rel="nofollow">http://www.aot.ru/docs/sokirko/Dialog2004.htm</a>, в phpMorphy словарь в исходной форме представлен аналогично. Имеется возможность преобразовать myspell словарь в исходную форму словаря для phpMorphy.
</p>

<p>
Для работы библиотеки требуется скомпилировать бинарный словарь. При компиляции используется словарь в исходном виде. Бинарный словарь обладает следующими особенностями:
</p>
<ul>
<li class="level1"><div class="li"> бинарно совместим между различными платформами</div>
</li>
<li class="level1"><div class="li"> все данные представлены в заданной кодировке, в верхнем (по умолчанию) или нижнем регистре.</div>
</li>
</ul>

<p>
Последний пункт позволяет не тратить время на преобразование кодировки и регистра в реальном времени, а сделать это один раз на этапе компиляции. Разработчик предоставить данные в кодировке и регистре совпадающим с кодировкой и регистром в словаре.
</p>

<p>
Физически словарь представлен в виде нескольких файлов:
</p>
<ul>
<li class="level1"><div class="li"> Key ⇒ value хранилище всех словоформ. Хранилище - использует модель минимального детерминированного конечного автомата (DAWG), позволяет искать слово за линейное от длины слова время O(N), N – длина слова. Разработано по мотивам How to Squeeze a Lexicon by Marcin Ciura Sebastian ,  Sebastian Deorowicz. Располагается в файле common_aut.ru</div>
</li>
<li class="level1"><div class="li"> Хранилище грамматической информации, таблицы окончаний, граммем (файл morph_data.bin)</div>
</li>
<li class="level1"><div class="li"> Хранилище окончаний для предсказания (файл predict_aut.bin) используется структура похожая на описанную в п1.</div>
</li>
<li class="level1"><div class="li"> Вспомогательные файлы (кэши для php версии, опции и т.п.)</div>
</li>
</ul>

<p>

Именование файлов словаря сделано следующим образом: ИМЯ_ФАЙЛА.ЯЗЫК.bin, где ЯЗЫК – условный код языка, в виде ISO3166 код страны и ISO639 код языка т.е. ru_ru, en_en и т.п. Данный метод позволяет размещать в одном каталоге словари для нескольких языков. К примеру, файлы для русского словаря:

</p>
<pre class="code">
common_aut.ru_ru.bin
gramtab.ru_ru.bin
gramtab_txt.ru_ru.bin
morph_data.ru_ru.bin
morph_data_ancodes_cache.ru_ru.bin
morph_data_ancodes_map.ru_ru.bin
morph_data_header_cache.ru_ru.bin
predict_aut.ru_ru.bin
options.ru_ru.ini
</pre>

<p>
Если требуется иметь словари для одного языка, но в разных кодировках, рекомендую создать такую иерархию директорий:

</p>
<pre class="code">
dicts\
    utf-8\
        словари в utf-8 кодировке
    windows\
        словари в windows кодировке: windows-1251 (русский), windows-1250 (английский) и т.п.
    iso-8859\
        словари в семействе iso-8859 кодировок
</pre>

</div>

<h2><a name="установка" id="установка">Установка</a></h2>
<div class="level2">

<p>
Для работы Вам потребуется
</p>
<ul>
<li class="level1"><div class="li"> Исходный код библиотеки.</div>
</li>
<li class="level1"><div class="li"> Один или несколько словарей в бинарном виде. </div>
</li>
</ul>
<ol>
<li class="level1"><div class="li"> Скачайте последнюю версию библиотеки. </div>
</li>
<li class="level1"><div class="li"> Распакуйте архив (к примеру, в каталог c:\php\libs\phpmorphy). Рекомендуется разместить код бибилотеки в директории недоступной web серверу. Для Apache к примеру, выше DocumentRoot.</div>
</li>
<li class="level1"><div class="li"> Скачайте необходимые словари. Распакуйте файл со словарями (используем c:\php\libs\phpmorphy\dicts). В c:\php\libs\phpmorphy\dicts должны находится файлы словаря т.е. common_aut.*.bin, predict_aut.*.bin и т.п.</div>
</li>
</ol>

</div>

<h2><a name="инициализация" id="инициализация">Инициализация</a></h2>
<div class="level2">
<pre class="code php"><span class="co1">// Подключите файл common.php. phpmorphy-0.3.2 - для версии 0.3.2, если используется иная версия скорректируйте код.</span>
<span class="kw1">require_once</span><span class="br0">&#40;</span> <span class="st_h">'c:/php/libs/phpmorphy/phpmorphy-0.3.2/src/common.php'</span><span class="br0">&#41;</span>;
&nbsp;
<span class="co1">// Укажите путь к каталогу со словарями</span>
<span class="re0">$dir</span> <span class="sy0">=</span> <span class="st_h">'c:/php/libs/phpmorphy/dicts'</span>;
&nbsp;
<span class="co1">// Укажите, для какого языка будем использовать словарь.</span>
<span class="co1">// Язык указывается как ISO3166 код страны и ISO639 код языка, </span>
<span class="co1">// разделенные символом подчеркивания (ru_RU, uk_UA, en_EN, de_DE и т.п.)</span>
&nbsp;
<span class="re0">$lang</span> <span class="sy0">=</span> <span class="st_h">'ru_RU'</span>;
&nbsp;
<span class="co1">// Укажите опции </span>
<span class="re0">$opts</span> <span class="sy0">=</span> <a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">&#40;</span>
    <span class="st_h">'storage'</span> <span class="sy0">=&gt;</span> PHPMORPHY_STORAGE_FILE<span class="sy0">,</span>
<span class="br0">&#41;</span>;
&nbsp;
<span class="co1">// создаем экземпляр класса phpMorphy</span>
<span class="co1">// обратите внимание: все функции phpMorphy являются throwable т.е. </span>
<span class="co1">// могут возбуждать исключения типа phpMorphy_Exception (конструктор тоже)</span>
try <span class="br0">&#123;</span>
    <span class="re0">$morphy</span> <span class="sy0">=</span> <span class="kw2">new</span> phpMorphy<span class="br0">&#40;</span><span class="re0">$dir</span><span class="sy0">,</span> <span class="re0">$lang</span><span class="sy0">,</span> <span class="re0">$opts</span><span class="br0">&#41;</span>;
<span class="br0">&#125;</span> catch<span class="br0">&#40;</span>phpMorphy_Exception <span class="re0">$e</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <a href="http://www.php.net/die"><span class="kw3">die</span></a><span class="br0">&#40;</span><span class="st_h">'Error occured while creating phpMorphy instance: '</span> <span class="sy0">.</span> <span class="re0">$e</span><span class="sy0">-&gt;</span><span class="me1">getMessage</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
<span class="br0">&#125;</span>
&nbsp;
<span class="co1">// далее под $morphy мы подразумеваем экземпляр класса phpMorphy</span></pre>
<p>
<a href="http://phpmorphy.sourceforge.net/dokuwiki/_media/playground#!html
%3Ctable%3E
  %3Ccaption%3EОпции%3C/caption%3E
  %3Ctr%3E
     %3Ctd%3Eопция%3C/td%3E
     %3Ctd%3Eдопустимые значения%3C/td%3E
     %3Ctd%3Eпримечания%3C/td%3E
  %3C/tr%3E
%3C/table%3E" class="media mediafile mf_ wikilink2" title="playground">playground</a>}

</p>

</div>

    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
      <div class="doc">
        playground/playground.txt &middot; Последние изменения: 2009/09/24 21:23  От heromantor      </div>
    </div>

   
    <div class="bar" id="bar__bottom">
      <div class="bar-left" id="bar__bottomleft">
                      </div>
      <div class="bar-right" id="bar__bottomright">
                                        <form class="button btn_login" method="get" action="playground%253Aplayground.html"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="21e124cd583cd20a45eb46de5d6ec829" /><input type="submit" value="Войти" class="button" title="Войти" /></div></form>        <form class="button btn_index" method="get" action="playground%253Aplayground.html"><div class="no"><input type="hidden" name="do" value="index" /><input type="submit" value="Все страницы" class="button" accesskey="x" title="Все страницы [X]" /></div></form>        <a class="nolink" href="playground%253Aplayground@do=backlink.html#dokuwiki__top"><input type="button" class="button" value="Наверх" onclick="window.scrollTo(0, 0)" title="Наверх" /></a>&nbsp;
      </div>
      <div class="clearer"></div>
    </div>

  </div>

  <div class="license">За исключением случаев, когда указано иное, содержимое этой вики предоставляется на условиях следующей лицензии:<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></div>
</div>

<div class="footerinc">
  <!-- SF logo -->
  <a href="http://sourceforge.net/projects/phpmorphy"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=192189&amp;type=10" width="80" height="15" alt="Get phpMorphy at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>

  <a  href="feed.php" title="Recent changes RSS feed"><img src="lib/tpl/phpmorphy/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" /></a>

        <a  href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" title="CC Attribution-Noncommercial-Share Alike 3.0 Unported"><img src="lib/images/license/button/cc-by-nc-sa.png" width="80" height="15" alt="" /></a>
  
  <a  href="http://www.dokuwiki.org/donate" title="Donate"><img src="lib/tpl/phpmorphy/images/button-donate.gif" alt="Donate" width="80" height="15" /></a>

  <a  href="http://www.php.net" title="Powered by PHP"><img src="lib/tpl/phpmorphy/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>

  <a  href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="lib/tpl/phpmorphy/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" /></a>

  <a  href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS"><img src="lib/tpl/phpmorphy/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>

  <a  href="http://dokuwiki.org/" title="Driven by DokuWiki"><img src="lib/tpl/phpmorphy/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>



</div>

<div class="no"><img src="lib/exe/indexer.php@id=playground%253Aplayground&amp;1497641202" width="1" height="1" alt=""  /></div>
</body>
</html>
